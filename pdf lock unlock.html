<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Lock/Unlock | LollyPoPdf</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
    <style>
        /* Obfuscated CSS */
        *{margin:0;padding:0;box-sizing:border-box;transition:all .3s ease}body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background-color:#fff;color:#333;line-height:1.6}a{text-decoration:none;color:inherit}ul{list-style:none}.container{width:100%;max-width:1200px;margin:0 auto;padding:0 20px}header{background-color:#fff;color:#6b7280;box-shadow:0 2px 10px rgba(0,0,0,.1);position:sticky;top:0;z-index:1000}.header-container{display:flex;justify-content:space-between;align-items:center;padding:15px 0}.logo{display:flex;align-items:center;gap:10px}.logo-icon{position:relative;width:40px;height:40px}.logo-circle{width:40px;height:40px;border-radius:40%;background:linear-gradient(to bottom right,#9370db,#8a2be2);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:14px}.logo-stem{position:absolute;bottom:-17px;left:50%;transform:translateX(-50%);width:6px;height:17px;background-color:#8a2be2;border-radius:0 0 3px 3px}.logo-text{font-size:24px;font-weight:700;color:#9370db}nav ul{display:flex;gap:30px}nav a{font-weight:500;position:relative;color:#6b7280;padding:8px 0;transition:all .3s ease}nav a:hover{color:#9370db}nav a::after{content:'';position:absolute;bottom:-5px;left:0;width:0;height:2px;background-color:#9370db;transition:width .3s ease}nav a:hover::after{width:100%}.header-right{display:flex;align-items:center;gap:20px}.email{font-size:14px;color:#6b7280}.theme-toggle{background:0 0;border:none;cursor:pointer;font-size:20px;color:#6b7280;padding:8px;border-radius:50%;transition:all .3s ease}.theme-toggle:hover{background-color:#f0ebff;color:#9370db}.mobile-menu-btn{display:none;background:0 0;border:none;font-size:24px;cursor:pointer;color:#6b7280}.mobile-menu{display:none;position:absolute;top:100%;left:0;width:100%;background-color:#fff;box-shadow:0 4px 6px rgba(0,0,0,.1);z-index:999}.mobile-menu.active{display:block}.mobile-menu ul{padding:20px;display:flex;flex-direction:column;gap:15px}.mobile-menu a{display:block;padding:10px 0;font-weight:500;color:#6b7280;border-bottom:1px solid rgba(0,0,0,.1)}.mobile-menu a:hover{color:#9370db}.hero{background-color:#f0ebff;padding:60px 0;text-align:center}.hero h1{font-size:2.5rem;margin-bottom:15px;color:#000}.hero p{font-size:1.2rem;color:#333;max-width:700px;margin:0 auto 30px}.how-to-section{padding:80px 0;background-color:#fff}.section-title{font-size:2rem;text-align:center;margin-bottom:40px;color:#000}.steps-container{display:grid;grid-template-columns:repeat(2,1fr);gap:40px}.step-box{background-color:#f9f9f9;border-radius:12px;box-shadow:0 4px 6px rgba(0,0,0,.1);padding:30px;min-height:200px;position:relative}.step-number{width:40px;height:40px;background-color:#9370db;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:16px;margin-bottom:15px}.step-title{font-size:18px;color:#000;margin-bottom:10px}.step-description{font-size:14px;color:#333;line-height:1.6}.tool-section{padding:80px 0;background-color:#f0ebff}.tool-title{font-size:2.5rem;text-align:center;margin-bottom:40px;color:#a391f2}.tool-container{max-width:1000px;margin:0 auto;background-color:#fff;border-radius:12px;box-shadow:0 4px 6px rgba(0,0,0,.1);padding:40px}.upload-container{margin-bottom:30px}.upload-title{font-size:18px;margin-bottom:15px;color:#9370db}.upload-area{border:2px dashed #9370db;border-radius:12px;padding:40px 20px;text-align:center;background-color:#f9f9f9;cursor:pointer;transition:all .3s ease}.upload-area:hover{background-color:#f0ebff}.upload-area i{font-size:48px;color:#9370db;margin-bottom:15px}.upload-text{font-size:16px;margin-bottom:10px}.upload-hint{font-size:14px;color:#6b7280}#fileInput{display:none}.file-info{margin-top:15px;padding:15px;background-color:#f9f9f9;border-radius:12px;display:none}.file-info.active{display:block}.file-name{font-weight:700;margin-bottom:5px}.file-size{font-size:14px;color:#6b7280}.password-container{margin-bottom:30px}.password-title{font-size:18px;margin-bottom:15px;color:#9370db}.password-input{width:100%;padding:15px;border-radius:12px;border:1px solid #9370db;background-color:#f9f9f9;color:#333;font-size:16px;font-family:inherit;margin-bottom:10px}.password-input:focus{outline:0;border-color:#8a2be2;box-shadow:0 0 0 3px rgba(147,112,219,.2)}.password-hint{font-size:14px;color:#6b7280}.status-container{background-color:#f9f9f9;border-radius:12px;padding:20px;margin-bottom:30px;text-align:center}.status-title{font-size:18px;margin-bottom:15px;color:#9370db}.status-indicator{display:inline-flex;align-items:center;gap:10px;padding:10px 20px;border-radius:30px;background-color:#fff;box-shadow:0 4px 6px rgba(0,0,0,.1)}.status-dot{width:12px;height:12px;border-radius:50%;background-color:#6b7280}.status-dot.ready{background-color:#10b981}.status-dot.processing{background-color:#9370db;animation:pulse 1.5s infinite}@keyframes pulse{0%{opacity:1}50%{opacity:.5}100%{opacity:1}}.status-dot.error{background-color:#ef4444}.action-buttons{display:flex;gap:15px;justify-content:center;flex-wrap:wrap;margin-bottom:30px}.action-btn{padding:12px 25px;border:none;border-radius:30px;cursor:pointer;font-weight:700;transition:all .3s ease;flex:1;min-width:150px;display:flex;align-items:center;justify-content:center;gap:8px}.action-btn:disabled{opacity:.6;cursor:not-allowed}.lock-btn{background-color:#9370db;color:#fff}.lock-btn:hover:not(:disabled){background-color:#8a2be2}.unlock-btn{background-color:#10b981;color:#fff}.unlock-btn:hover:not(:disabled){background-color:#0da271}.clear-btn{background-color:#fff;color:#9370db;border:2px solid #9370db}.clear-btn:hover:not(:disabled){background-color:#f0ebff}.result-container{background-color:#f9f9f9;border-radius:12px;padding:20px;margin-bottom:30px;text-align:center;display:none}.result-container.active{display:block}.result-title{font-size:18px;margin-bottom:15px;color:#9370db}.result-info{margin-bottom:20px}.download-btn{background-color:#10b981;color:#fff;padding:12px 25px;border:none;border-radius:30px;cursor:pointer;font-weight:700;transition:all .3s ease;display:inline-flex;align-items:center;gap:8px}.download-btn:hover{background-color:#0da271}footer{background-color:#000;color:#fff;padding:60px 0 80px;position:relative}.footer-container{display:grid;grid-template-columns:1fr 1fr 1fr;gap:60px}.footer-logo{display:flex;align-items:center;gap:10px;margin-bottom:20px}.footer-logo .logo-icon{width:40px;height:40px}.footer-logo .logo-text{color:#9370db;font-size:24px;font-weight:700}.footer-section h3{color:#fff;font-weight:600;font-size:20px;margin-bottom:20px}.footer-section h4{color:#9370db;font-size:18px;margin-bottom:15px}.footer-links li{margin-bottom:10px}.footer-links a{color:#fff}.footer-links a:hover{color:#9370db}.social-icons{display:flex;gap:15px;margin-top:20px}.social-icon{width:40px;height:40px;background-color:#9370db;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.social-icon:hover{background-color:#8a2be2;transform:translateY(-3px)}.copyright{position:absolute;bottom:10px;left:10px;color:#f9f7ff;font-size:12px}.footer-line{position:absolute;bottom:50px;left:0;width:100%;height:1px;background-color:hsla(0,0%,100%,.2)}.language-switcher{position:fixed;bottom:10px;right:10px;z-index:1000}.language-btn{background-color:#9370db;color:#fff;border:none;border-radius:30px;padding:5px;cursor:pointer;display:flex;align-items:center;gap:4px;box-shadow:0 4px 10px rgba(0,0,0,.2)}.language-dropdown{position:absolute;bottom:100%;right:0;width:300px;background-color:#fff;border-radius:12px;box-shadow:0 5px 15px rgba(0,0,0,.1);padding:20px;display:none;grid-template-columns:repeat(3,1fr);gap:10px;max-height:300px;overflow-y:auto}.language-switcher:hover .language-dropdown{display:grid}.language-option{padding:8px 12px;border-radius:6px;cursor:pointer;text-align:center;font-size:14px}.language-option:hover{background-color:#fff;color:#9370db}@media (max-width:992px){.steps-container{grid-template-columns:1fr}.footer-container{grid-template-columns:1fr 1fr}}@media (max-width:768px){nav ul,.email{display:none}.mobile-menu-btn{display:block}.hero h1,.tool-title{font-size:2rem}.hero p{font-size:1rem}.language-dropdown{width:250px;grid-template-columns:repeat(2,1fr)}.footer-container{grid-template-columns:1fr;gap:40px}.action-buttons{flex-direction:column}.action-btn{width:100%}}@media (max-width:576px){.tool-container{padding:20px}}
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-container">
            <a href="https://lollypopdf.com" class="logo">
                <div class="logo-icon">
                    <div class="logo-circle">LPdf</div>
                    <div class="logo-stem"></div>
                </div>
                <span class="logo-text">LollyPoPdf</span>
            </a>
            
            <nav>
                <ul>
                    <li><a href="https://lollypopdf.github.io/LollyPoPdf#home" class="nav-link">Home</a></li>
                    <li><a href="https://lollypopdf.github.io/LollyPoPdf#about" class="nav-link">About Us</a></li>
                    <li><a href="https://lollypopdf.github.io/LollyPoPdf#tools" class="nav-link">Tools</a></li>
                    <li><a href="contact.html" class="nav-link">Contact</a></li>
                </ul>
            </nav>
            
            <div class="header-right">
                <span class="email">lollypoppdf@gmail.com</span>
                <button class="theme-toggle" id="themeToggle">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
        
        <!-- Mobile Menu -->
        <div class="mobile-menu" id="mobileMenu">
            <ul>
                <li><a href="https://lollypopdf.github.io/LollyPoPdf#home" class="nav-link">Home</a></li>
                <li><a href="https://lollypopdf.github.io/LollyPoPdf#about" class="nav-link">About Us</a></li>
                <li><a href="https://lollypopdf.github.io/LollyPoPdf#tools" class="nav-link">Tools</a></li>
                <li><a href="contact.html" class="nav-link">Contact</a></li>
            </ul>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>PDF Lock/Unlock Tool</h1>
            <p>Securely add or remove passwords from your PDF files. All processing happens locally in your browser - your files never leave your device.</p>
        </div>
    </section>

    <!-- How to Use Section -->
    <section class="how-to-section">
        <div class="container">
            <h2 class="section-title">How to Use the PDF Lock/Unlock Tool</h2>
            <div class="steps-container">
                <div class="step-box">
                    <div class="step-number">1</div>
                    <h3 class="step-title">Upload PDF</h3>
                    <p class="step-description">Drag and drop your PDF file or click to browse. For unlocking, make sure you have the correct password.</p>
                </div>
                <div class="step-box">
                    <div class="step-number">2</div>
                    <h3 class="step-title">Set Password</h3>
                    <p class="step-description">For locking, enter a strong password. For unlocking, provide the existing password to remove protection.</p>
                </div>
                <div class="step-box">
                    <div class="step-number">3</div>
                    <h3 class="step-title">Process PDF</h3>
                    <p class="step-description">Click "Lock PDF" to encrypt with password or "Unlock PDF" to remove password protection.</p>
                </div>
                <div class="step-box">
                    <div class="step-number">4</div>
                    <h3 class="step-title">Download</h3>
                    <p class="step-description">Download your secured or unlocked PDF file when processing is complete.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Tool Section -->
    <section class="tool-section">
        <div class="container">
            <h2 class="tool-title">PDF Lock/Unlock</h2>
            <div class="tool-container">
                <!-- Upload Section -->
                <div class="upload-container">
                    <h3 class="upload-title">Upload PDF File</h3>
                    <div class="upload-area" id="uploadArea">
                        <i class="fas fa-file-pdf"></i>
                        <p class="upload-text">Drag & Drop your PDF file here</p>
                        <p class="upload-hint">or click to browse</p>
                        <input type="file" id="fileInput" accept=".pdf">
                    </div>
                    <div class="file-info" id="fileInfo">
                        <div class="file-name" id="fileName"></div>
                        <div class="file-size" id="fileSize"></div>
                    </div>
                </div>

                <!-- Password Section -->
                <div class="password-container">
                    <h3 class="password-title">Set Password for PDF</h3>
                    <input type="password" id="lockPassword" class="password-input" placeholder="Enter a strong password">
                    <p class="password-hint">Use a strong password with at least 8 characters including letters, numbers, and symbols.</p>
                    
                    <h3 class="password-title" style="margin-top: 20px;">Enter PDF Password</h3>
                    <input type="password" id="unlockPassword" class="password-input" placeholder="Enter the PDF password">
                    <p class="password-hint">Provide the password to unlock this PDF file.</p>
                </div>

                <!-- Status Section -->
                <div class="status-container">
                    <h3 class="status-title">Status</h3>
                    <div class="status-indicator">
                        <div class="status-dot ready" id="statusDot"></div>
                        <span id="statusText">Ready</span>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button class="action-btn lock-btn" id="lockBtn">
                        <i class="fas fa-lock"></i> Lock PDF
                    </button>
                    <button class="action-btn unlock-btn" id="unlockBtn">
                        <i class="fas fa-unlock"></i> Unlock PDF
                    </button>
                    <button class="action-btn clear-btn" id="clearBtn">
                        <i class="fas fa-trash"></i> Clear
                    </button>
                </div>

                <!-- Result Section -->
                <div class="result-container" id="resultContainer">
                    <h3 class="result-title">Processing Complete</h3>
                    <div class="result-info" id="resultInfo"></div>
                    <button class="download-btn" id="downloadBtn">
                        <i class="fas fa-download"></i> Download PDF
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container footer-container">
            <!-- Left Section -->
            <div class="footer-section">
                <a href="https://lollypopdf.com" class="footer-logo">
                    <div class="logo-icon">
                        <div class="logo-circle">LPdf</div>
                        <div class="logo-stem"></div>
                    </div>
                    <span class="logo-text">LollyPoPdf</span>
                </a>
                <h3>FOLLOW US</h3>
                <div class="social-icons">
                    <a href="https://facebook.com/lollypopdf" class="social-icon"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://linkedin.com/company/lollypopdf" class="social-icon"><i class="fab fa-linkedin-in"></i></a>
                    <a href="https://twitter.com/lollypopdf" class="social-icon"><i class="fab fa-twitter"></i></a>
                    <a href="https://instagram.com/lollypopdf" class="social-icon"><i class="fab fa-instagram"></i></a>
                    <a href="https://pinterest.com/lollypopdf" class="social-icon"><i class="fab fa-pinterest-p"></i></a>
                </div>
            </div>
            
            <!-- Middle Section - Popular Categories -->
            <div class="footer-section">
                <h4>Popular Categories</h4>
                <ul class="footer-links">
                    <li><a href="https://lollypopdf.com#pdf-tools">PDF Tools</a></li>
                    <li><a href="https://lollypopdf.com#image-tools">Image Tools</a></li>
                    <li><a href="https://lollypopdf.com#text-tools">Text Tools</a></li>
                    <li><a href="https://lollypopdf.com#audio-video-tools">Audio/Video Tools</a></li>
                    <li><a href="https://lollypopdf.com#web-developer-tools">Web Developer Tools</a></li>
                    <li><a href="https://lollypopdf.com#calculator-tools">Calculator Tools</a></li>
                    <li><a href="https://lollypopdf.com#utility-tools">Utility Tools</a></li>
                    <li><a href="https://lollypopdf.com#color-tools">Color Tools</a></li>
                </ul>
            </div>
            
            <!-- Right Section - Quick Links -->
            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul class="footer-links">
                    <li><a href="https://lollypopdf.github.io/LollyPoPdf#home">Home</a></li>
                    <li><a href="https://lollypopdf.github.io/LollyPoPdf#tools">All Tools</a></li>
                    <li><a href="faq.html">FAQ</a></li>
                    <li><a href="contact.html">Contact</a></li>
                    <li><a href="privacy-policy.html">Privacy Policy</a></li>
                    <li><a href="disclaimer.html">Disclaimer</a></li>
                    <li><a href="terms.html">Terms of Service</a></li>
                </ul>
            </div>
        </div>
        
        <div class="footer-line"></div>
        <div class="copyright">© 2025 LollyPoPDF. All rights reserved.</div>
    </footer>

    <!-- Language Switcher -->
    <div class="language-switcher">
        <button class="language-btn">
            <i class="fas fa-globe"></i>
            <span id="currentLanguage">English</span>
        </button>
        <div class="language-dropdown">
            <div class="language-option" data-lang="en">English</div>
            <div class="language-option" data-lang="es">Español</div>
            <div class="language-option" data-lang="fr">Français</div>
            <div class="language-option" data-lang="de">Deutsch</div>
            <div class="language-option" data-lang="it">Italiano</div>
            <div class="language-option" data-lang="pt">Português</div>
            <div class="language-option" data-lang="ja">日本語</div>
            <div class="language-option" data-lang="ru">Pусский</div>
            <div class="language-option" data-lang="ko">한국어</div>
            <div class="language-option" data-lang="zh-CN">中文 (简体)</div>
            <div class="language-option" data-lang="zh-TW">中文 (繁體)</div>
        </div>
    </div>

    <script>
        // Enhanced Code Protection
        (function() {
            'use strict';
            
            // Anti-copy protection
            document.addEventListener('copy', function(e) {
                e.preventDefault();
                alert('Copying content from this page is not allowed.');
            });
            
            // Anti-right-click protection
            document.addEventListener('contextmenu', function(e) {
                e.preventDefault();
                return false;
            });
            
            // Anti-keyboard shortcuts for dev tools
            document.addEventListener('keydown', function(e) {
                // Disable F12
                if (e.key === 'F12') {
                    e.preventDefault();
                    return false;
                }
                
                // Disable Ctrl+Shift+I (Dev Tools)
                if (e.ctrlKey && e.shiftKey && e.key === 'I') {
                    e.preventDefault();
                    return false;
                }
                
                // Disable Ctrl+U (View Source)
                if (e.ctrlKey && e.key === 'u') {
                    e.preventDefault();
                    return false;
                }
            });
            
            // Anti-debugging protection
            function detectDevTools() {
                const threshold = 160;
                const widthThreshold = window.outerWidth - window.innerWidth > threshold;
                const heightThreshold = window.outerHeight - window.innerHeight > threshold;
                
                if (widthThreshold || heightThreshold) {
                    document.body.innerHTML = '<div style="text-align:center;padding:50px;font-family:Arial"><h1>Access Restricted</h1><p>Developer tools are not allowed on this page.</p></div>';
                }
            }
            
            // Check for dev tools periodically
            setInterval(detectDevTools, 1000);
            
            // Main application code (obfuscated)
            const a=document,b=a.getElementById,c=a.querySelector,d=a.querySelectorAll;
            let e=null,f=null,g=null;
            
            // Theme toggle
            const h=b('themeToggle'),i=a.body,j=localStorage.getItem('theme')||'light';
            if(j==='dark'){i.classList.add('dark-mode');h.innerHTML='<i class="fas fa-sun"></i>'}
            h.addEventListener('click',()=>{i.classList.toggle('dark-mode');const k=i.classList.contains('dark-mode');
            if(k){h.innerHTML='<i class="fas fa-sun"></i>';localStorage.setItem('theme','dark')}else{h.innerHTML='<i class="fas fa-moon"></i>';localStorage.setItem('theme','light')}});
            
            // Mobile menu
            const l=b('mobileMenuBtn'),m=b('mobileMenu');
            l.addEventListener('click',()=>{m.classList.toggle('active');m.classList.contains('active')?l.innerHTML='<i class="fas fa-times"></i>':l.innerHTML='<i class="fas fa-bars"></i>'});
            d('.mobile-menu a').forEach(n=>{n.addEventListener('click',()=>{m.classList.remove('active');l.innerHTML='<i class="fas fa-bars"></i>'})});
            
            // PDF functionality
            const o=b('uploadArea'),p=b('fileInput'),q=b('fileInfo'),r=b('fileName'),s=b('fileSize'),t=b('lockPassword'),u=b('unlockPassword'),v=b('lockBtn'),w=b('unlockBtn'),x=b('clearBtn'),y=b('statusDot'),z=b('statusText'),A=b('resultContainer'),B=b('resultInfo'),C=b('downloadBtn');
            
            o.addEventListener('click',()=>p.click());
            o.addEventListener('dragover',D=>{D.preventDefault();o.style.backgroundColor='#f0ebff'});
            o.addEventListener('dragleave',()=>{o.style.backgroundColor='#f9f9f9'});
            o.addEventListener('drop',D=>{D.preventDefault();o.style.backgroundColor='#f9f9f9';if(D.dataTransfer.files.length>0)E(D.dataTransfer.files[0])});
            p.addEventListener('change',D=>{if(D.target.files.length>0)E(D.target.files[0])});
            
            function E(D){if(D.type!=='application/pdf'){alert('Please select a PDF file.');return}e=D;r.textContent=D.name;s.textContent=F(D.size);q.classList.add('active');G('ready','File ready for processing')}
            
            function F(D){if(D===0)return'0 Bytes';const H=1024,I=['Bytes','KB','MB','GB'],J=Math.floor(Math.log(D)/Math.log(H));return parseFloat((D/Math.pow(H,J)).toFixed(2))+' '+I[J]}
            
            function G(K,L){y.className='status-dot';y.classList.add(K);z.textContent=L}
            
            v.addEventListener('click',async()=>{if(!e){alert('Please upload a PDF file first.');return}if(!t.value){alert('Please enter a password to lock the PDF.');return}if(t.value.length<8){alert('Password must be at least 8 characters long.');return}try{G('processing','Encrypting PDF...');const M=await e.arrayBuffer();const{PDFDocument:N}=PDFLib,O=await N.load(M);g=t.value;const P=await O.save({useObjectStreams:false,addDefaultPage:false,permissions:{printing:'lowResolution',modifying:false,copying:false,annotating:false,fillingForms:false,contentAccessibility:false,documentAssembly:false},userPassword:g,ownerPassword:g});f=new Blob([P],{type:'application/pdf'});B.textContent=`PDF successfully encrypted with password. File size: ${F(f.size)}`;A.classList.add('active');G('ready','PDF encrypted successfully')}catch(D){console.error('Error encrypting PDF:',D);alert('Error encrypting PDF. Please try again with a different PDF file.');G('error','Error occurred')}});
            
            w.addEventListener('click',async()=>{if(!e){alert('Please upload a PDF file first.');return}if(!u.value){alert('Please enter the PDF password to unlock it.');return}try{G('processing','Decrypting PDF...');const M=await e.arrayBuffer();const{PDFDocument:N}=PDFLib;let O;try{O=await N.load(M,{password:u.value})}catch(D){alert('Incorrect password. Please enter the correct password to unlock this PDF.');G('error','Incorrect password');return}const Q=await O.save();f=new Blob([Q],{type:'application/pdf'});B.textContent=`PDF successfully decrypted. File size: ${F(f.size)}`;A.classList.add('active');G('ready','PDF decrypted successfully')}catch(D){console.error('Error decrypting PDF:',D);alert('Error decrypting PDF. Please check the password and try again.');G('error','Error occurred')}});
            
            C.addEventListener('click',()=>{if(!f)return;const R=URL.createObjectURL(f),S=a.createElement('a');S.href=R;let T=e.name;if(t.value&&!u.value){T=`secured_${T}`}else if(u.value){T=`unlocked_${T}`}S.download=T;a.body.appendChild(S);S.click();a.body.removeChild(S);URL.revokeObjectURL(R)});
            
            x.addEventListener('click',()=>{p.value='';e=null;q.classList.remove('active');t.value='';u.value='';A.classList.remove('active');f=null;g=null;G('ready','Ready')});
            
            // Language switcher
            const U=d('.language-option');
            U.forEach(V=>{V.addEventListener('click',()=>{const W=V.getAttribute('data-lang');b('currentLanguage').textContent=V.textContent;alert('Language changed to: '+V.textContent)})});
        })();
    </script>
</body>
</html>
